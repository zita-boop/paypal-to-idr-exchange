<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PayRupiah ‚Äî PayPal ke Rupiah</title>

<!-- PWA -->
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#0b1220">

<!-- Favicon -->
<link rel="icon" href="favicon/favicon.ico">

<meta name="description" content="Layanan tukar saldo PayPal ke Rupiah secara manual, aman, dan transparan via WhatsApp admin.">

<style>
:root{
  --bg:#0b1220;
  --card:#0f1b34;
  --soft:#081226;
  --text:#e5e7eb;
  --muted:#9ca3af;
  --accent:#3b82f6;
  --green:#22c55e;
}
.light{
  --bg:#f1f5f9;
  --card:#ffffff;
  --soft:#e2e8f0;
  --text:#0f172a;
  --muted:#475569;
}
*{box-sizing:border-box;font-family:system-ui}
body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  display:flex;
  justify-content:center;
  transition:.3s;
}
.container{
  width:100%;
  max-width:420px;
  padding:16px;
}
.header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  margin-bottom:18px;
}
.brand{
  display:flex;
  align-items:center;
  gap:10px;
  font-weight:700;
  font-size:20px;
}
.logo{
  width:34px;height:34px;
  background:linear-gradient(135deg,#3b82f6,#1e40af);
  border-radius:10px;
}
.badge{
  background:var(--green);
  color:#fff;
  font-size:12px;
  padding:4px 10px;
  border-radius:999px;
}
.toggle{cursor:pointer;font-size:20px}

.card{
  background:linear-gradient(180deg,var(--card),var(--soft));
  border-radius:20px;
  padding:20px;
  margin-bottom:16px;
}

h2{margin-top:0}

.grid{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:12px;
}
label{font-size:13px;color:var(--muted)}
input{
  width:100%;
  padding:14px;
  border-radius:14px;
  border:none;
  background:rgba(255,255,255,.08);
  color:var(--text);
  font-size:16px;
}
.light input{background:#f1f5f9}

button{
  width:100%;
  padding:16px;
  border:none;
  border-radius:16px;
  background:linear-gradient(135deg,#3b82f6,#1e40af);
  color:#fff;
  font-size:16px;
  margin-top:14px;
  cursor:pointer;
  opacity:.5;
}
button.active{opacity:1}

.check{
  display:flex;
  align-items:center;
  gap:8px;
  margin-top:12px;
  font-size:14px;
}

.menu{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:12px;
}
.menu div{
  background:var(--card);
  padding:14px;
  border-radius:16px;
  text-align:center;
  font-size:14px;
  cursor:pointer;
}
.menu small{display:block;color:var(--muted)}
</style>
</head>

<body>
<div class="container">

<!-- HEADER -->
<div class="header">
  <div class="brand">
    <div class="logo"></div>
    PayRupiah
  </div>
  <div class="badge">‚óè Online</div>
  <div class="toggle" onclick="toggleMode()">üåô</div>
</div>

<!-- KALKULATOR -->
<div class="card">
<h2>Kalkulator PayPal ‚Üí Rupiah</h2>

<div class="grid">
  <div>
    <label>Nominal PayPal (USD)</label>
    <input type="number" id="usd" placeholder="Minimal $5">
  </div>
  <div>
    <label>Kurs USD</label>
    <input value="16300" disabled>
  </div>
</div>

<div class="grid" style="margin-top:12px">
  <div>
    <label>Fee (USD)</label>
    <input id="fee" disabled>
  </div>
  <div>
    <label>Diterima (IDR)</label>
    <input id="idr" disabled>
  </div>
</div>

<div class="check">
  <input type="checkbox" id="agree" onchange="enableBtn()">
  <span>Saya menyetujui <b>Syarat & Ketentuan</b></span>
</div>

<small>* Estimasi. Nominal & kurs dikunci saat admin konfirmasi.</small>

<button id="btn">Lanjutkan via WhatsApp</button>
</div>

<!-- LOG -->
<div class="card">
<b>Log Estimasi Terakhir</b>
<p style="font-size:13px;color:var(--muted)">Disimpan di perangkat Anda</p>
</div>

<!-- MENU -->
<div class="menu">
  <div onclick="location.href='faq.html'">
    Informasi
    <small>FAQ ‚Ä¢ Trust</small>
  </div>
  <div onclick="location.href='term.html'">
    Legal
    <small>S&K ‚Ä¢ Disclaimer</small>
  </div>
  <div onclick="location.href='confirm.html'">
    Kontak
    <small>WhatsApp Admin</small>
  </div>
</div>

</div>

<script>
const rate = 16300;

// aturan fee
function feeCalc(u){
  if(u < 5) return 0;
  if(u < 10) return 0.7;
  if(u < 50) return 1;
  if(u < 100) return 1.7;
  if(u < 150) return 2;
  if(u < 200) return 2.5;
  return 3;
}

// hitung otomatis
usd.oninput = () => {
  const u = parseFloat(usd.value || 0);
  if(u < 5){
    fee.value = "";
    idr.value = "";
    btn.classList.remove("active");
    return;
  }
  const f = feeCalc(u);
  fee.value = f;
  idr.value = ((u - f) * rate).toLocaleString("id-ID");
};

// checkbox
function enableBtn(){
  btn.classList.toggle("active", agree.checked);
}

// klik WhatsApp
btn.onclick = () => {
  if(!agree.checked) return;

  const u = parseFloat(usd.value);
  if(!u || u < 5) return;

  const f = fee.value;
  const total = idr.value;
  const txId = "PR-" + Date.now();

  // simpan log
  const logs = JSON.parse(localStorage.getItem("payrupiah_logs") || "[]");
  logs.unshift({
    id: txId,
    usd: u,
    fee: f,
    idr: total,
    time: new Date().toLocaleString("id-ID")
  });
  localStorage.setItem("payrupiah_logs", JSON.stringify(logs));

  const message = `
Halo Admin PayRupiah üëã

Saya ingin menukarkan saldo PayPal.

üßæ ID Transaksi : ${txId}
üíµ Nominal       : $${u}
üí∏ Fee           : $${f}
üí± Kurs          : 1 USD = Rp${rate.toLocaleString("id-ID")}
üí∞ Diterima      : Rp${total}

Mohon instruksi selanjutnya üôè
`;

  const phone = "62XXXXXXXXXX"; // GANTI nomor admin
  window.open(
    `https://wa.me/${phone}?text=${encodeURIComponent(message)}`,
    "_blank"
  );
};

// dark / light
function toggleMode(){
  document.body.classList.toggle("light");
  document.querySelector(".toggle").textContent =
    document.body.classList.contains("light") ? "‚òÄÔ∏è" : "üåô";
}
</script>

</body>
</html>
